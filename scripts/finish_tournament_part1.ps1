
$token = "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJkOHNJbGI4Zk9nWUFud2FPYXR4U25TVktNY3dVSkw3YjFyVVdyRU5sR084In0.eyJleHAiOjE3NjU5MDI5MjgsImlhdCI6MTc2NTkwMjYyOCwianRpIjoiODZlZDdmNDYtNGU0Yy00NmRjLWJhYzQtOWY3MWQ0MDRkODExIiwiaXNzIjoiaHR0cDovL2tleWNsb2FrOjgwODAvcmVhbG1zL2JyYWNrZXRvZmRlYXRoc2l0ZSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJmMjUwYWU3ZC00MmVlLTQ5MmMtOWYzNS02ODJkMTNhY2RiMDEiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJib2QtYXBwIiwic2Vzc2lvbl9zdGF0ZSI6IjM3Y2M1NGMzLTMwYjMtNGM1OS05NjZiLWI3Y2UzNDQ4YTBlZSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJodHRwczovL2JvZC5saWdodG1lZGlhLmNsdWIiLCJodHRwOi8vZnJvbnRlbmQ6NTE3MyIsImh0dHA6Ly9sb2NhbGhvc3Q6NTE3MyJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZGVmYXVsdC1yb2xlcy1icmFja2V0b2ZkZWF0aHNpdGUiLCJvZmZsaW5lX2FjY2VzcyIsImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iLCJ1c2VyIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwic2lkIjoiMzdjYzU0YzMtMzBiMy00YzU5LTk2NmItYjdjZTM0NDhhMGVlIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiJUb3VybmFtZW50IEFkbWluaXN0cmF0b3IiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJhZG1pbiIsImdpdmVuX25hbWUiOiJUb3VybmFtZW50IiwiZmFtaWx5X25hbWUiOiJBZG1pbmlzdHJhdG9yIiwiZW1haWwiOiJhZG1pbkBicmFja2V0b2ZkZWF0aHNpdGUuY29tIn0.kAwRellycOuYz1ui0vlhGMfK98u2XkYc18d0Bcaffjt9mo37iWbhUs0fnWsQbtD1e8obsvNQTC5Aa2jxPYC7n0JARXUbnTjCjtBXFIQ-x9VFZIeqDLXbrviS6Q-7kBErRKcVnGxMwaszHh014D_R7M5PQCot_UbsN5aEO6j8TKKXxpJcIHZ7OoFWO2SQnlKiRrAAyCJlVuSQua8M3rVVDbS89BO7YlT8Ct90lyrSv4kFEen964ym66SXUQRBdAwvmiw7ab3qEynZbx1-T4IJw_3pwznsBjY6F1rGxYirlXUXiN2PC-CkGPyl-JgcoEFsqpsE9tJ44es-qJmyCKVcyA"
$headers = @{
    "Content-Type" = "application/json"
    "Authorization" = "Bearer $token"
}

$baseUrl = "http://localhost:8080/api/tournaments/694181c0c0ed0925650407a9"

Write-Host "--- Advancing to Final ---"
$advance = Invoke-RestMethod -Uri "$baseUrl/action" -Method Post -Headers $headers -Body '{"action": "advance_round"}'
Write-Host "Advance Phase: $($advance.data.phase.phase)"
Write-Host "Current Round: $($advance.data.phase.currentRound)"

Write-Host "--- Creating Final Matches (Explicit) ---"
$gen = Invoke-RestMethod -Uri "$baseUrl/generate-matches" -Method Post -Headers $headers -Body '{"round": "final"}'
Write-Host "Generated $($gen.data.Count) matches"
